- ## CPUåž‹å·è·Ÿæœºåž‹çš„å¯¹ç…§è¡¨

| èŠ¯ç‰‡  | è®¾å¤‡ | [å¯é€‰å†…æ ¸](https://github.com/ophub/kernel/tree/main/pub/stable) | OpenWrt å›ºä»¶ |
| ---- | ---- | ---- | ---- |
| a311d | [Khadas-VIM3](https://www.gearbest.com/boards---shields/pp_3008145189226460.html) | å…¨éƒ¨ | openwrt_a311d_k*.img |
| s922x | [Beelink-GT-King](https://tokopedia.link/RAgZmOM41db), [Beelink-GT-King-Pro](https://www.gearbest.com/tv-box/pp_3008857542462482.html), [Ugoos-AM6-Plus](https://tokopedia.link/pHGKXuV41db), [ODROID-N2](https://www.tokopedia.com/search?st=product&q=ODROID-N2) | å…¨éƒ¨ | openwrt_s922x_k*.img |
| s905x3 | [X96-Max+](https://tokopedia.link/uMaH09s41db), [HK1-Box](https://tokopedia.link/xhWeQgTuwfb), [H96-Max-X3](https://tokopedia.link/KuWvwoYuwfb), [Ugoos-X3](https://tokopedia.link/duoIXZpdGgb), [TX3](https://www.aliexpress.com/item/1005003772717802.html), [X96-Air](https://www.gearbest.com/tv-box/pp_3002885621272175.html), [A95XF3-Air](https://tokopedia.link/ByBL45jdGgb) | å…¨éƒ¨ | openwrt_s905x3_k*.img |
| s905x2 | [X96Max-4G](https://tokopedia.link/HcfLaRzjqeb), [X96Max-2G](https://tokopedia.link/HcfLaRzjqeb), [MECOOL-KM3-4G](https://www.gearbest.com/tv-box/pp_3008133484979616.html) | å…¨éƒ¨ | openwrt_s905x2_k*.img |
| s905l3a | [E900V22C/D](https://github.com/Calmact/e900v22c) | å…¨éƒ¨ | openwrt_s905l3a_k*.img |
| s912 | [H96-Pro-Plus](https://www.gearbest.com/tv-box-mini-pc/pp_503486.html), [Tanix-TX92](http://www.tanix-box.com/project-view/tanix-tx92-android-tv-box-powered-amlogic-s912/), [VORKE-Z6-Plus](http://www.vorke.com/project/vorke-z6-2/), [Mecool-M8S-PRO-L](https://www.gearbest.com/tv-box/pp_3005746210753315.html), Octopus-Planet | å…¨éƒ¨ | openwrt_s912_k*.img |
| s905d | [MECOOL-KI-Pro](https://www.gearbest.com/tv-box-mini-pc/pp_629409.html), Phicomm-N1 | å…¨éƒ¨ | openwrt_s905d_k*.img |
| s905x | [HG680P](https://tokopedia.link/HbrIbqQcGgb), [B860H](https://www.zte.com.cn/global/products/cocloud/201707261551/IP-STB/ZXV10-B860H) | å…¨éƒ¨ | openwrt_s905x_k*.img |
| s905w | [X96-Mini](https://tokopedia.link/ro207Hsjqeb), [TX3-Mini](https://www.gearbest.com/tv-box/pp_009748238474.html) | 5.4.* | openwrt_s905w_k*.img |
| s905 | [Beelink-Mini-MX-2G](https://www.gearbest.com/tv-box-mini-pc/pp_321409.html), [MXQ-PRO+4K](https://www.gearbest.com/tv-box-mini-pc/pp_354313.html) | å…¨éƒ¨ | openwrt_s905_k*.img |

ðŸ’¡æç¤ºï¼šå½“å‰ ***`s905`*** çš„ç›’å­åªèƒ½åœ¨ `TF/SD/USB` ä¸­ä½¿ç”¨ï¼Œå…¶ä»–åž‹å·çš„ç›’å­åŒæ—¶æ”¯æŒå†™å…¥ `EMMC` ä¸­ä½¿ç”¨ã€‚å½“å‰ ***`s905w`*** ç³»åˆ—çš„ç›’å­åªæ”¯æŒä½¿ç”¨ `5.4` å†…æ ¸ï¼Œä¸èƒ½ä½¿ç”¨ 5.10 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œå…¶ä»–åž‹å·çš„ç›’å­å¯ä»»é€‰å†…æ ¸ç‰ˆæœ¬ä½¿ç”¨ã€‚æ¯ä¸ªç›’å­çš„ dtb å’Œ u-boot è¯·æŸ¥é˜…[è¯´æ˜Ž](https://github.com/ophub/amlogic-s9xxx-armbian/blob/main/build-armbian/armbian-docs/config_correspondence_of_amlogic_s9xxx_tv_box.md)ã€‚

#
- å¯ä»¥æŒ‡å®šæ‰“åŒ…æ‰€ç”¨åž‹å·æœ‰: `a311d`, `s905x3`, `s905x2`, `s905l3a`, `s905x`, `s905w`, `s905d`, `s905d-ki`, `s905`, `s922x`, `s922x-n2`, `s912`, `s912-m8s` ã€‚

- æœºåž‹è¯´æ˜Žï¼š`s922x-reva` æ˜¯ `s922x-gtking-pro-rev_a`ï¼Œ`s922x-n2` æ˜¯ `s922x-odroid-n2` ï¼Œ`s912-m8s` æ˜¯ `s912-mecool-m8s-pro-l` ï¼Œ`s905d-ki` æ˜¯ `s912-mecool-ki-pro`ï¼Œ`s905x2-km3` æ˜¯ `s905x2-mecool-km3` 

- [å†…æ ¸ç‰ˆæœ¬æ—¶æ—¶å˜åŠ¨çš„ï¼Œæ‰€ä»¥é€‰æ‹©å†…æ ¸ä¹‹å‰ï¼Œä¸€å®šè¦ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ä¸€ä¸‹å½“å‰å¯ç”¨å†…æ ¸ï¼Œéšä¾¿æžçš„è¯ï¼Œæ²¡æœ‰è¯¥å†…æ ¸ï¼Œæ‰“åŒ…å°±å¤±è´¥](https://github.com/ophub/kernel/tree/main/pub/stable)
#
```sh
æœºåž‹å’Œæ ¸å¿ƒç»„åˆè®¾ç½®åœ¨ï¼šbuild/openwrt_amlogic/diy-part.sh


amlogic_modelwä¸ºæœºåž‹è®¾ç½®ï¼Œå¤šæœºåž‹éœ€è¦ä¸­é—´åŠ â€˜_â€™é—´éš”ï¼Œæ¯”å¦‚ s922x_s912
amlogic_kernelä¸ºå†…æ ¸è®¾ç½®ï¼Œå¤šå†…æ ¸éœ€è¦ä¸­é—´åŠ â€˜_â€™é—´éš”ï¼Œæ¯”å¦‚ 5.10.100_5.4.180
ä¿æŒ 5.10.100_5.4.180 -a true ä¸ä¿®æ”¹çš„è¯ï¼Œæ¯æ¬¡ç¼–è¯‘éƒ½ä¼šé»˜è®¤åŒæ­¥ä¸Šæ¸¸ä»“åº“æœ€æ–°å†…æ ¸æ‰“åŒ…
rootfs_sizeä¸ºrootfsåˆ†åŒºå¤§å°ï¼Œä¸èƒ½å°äºŽ500ï¼Œä¸æ‡‚å°±é»˜è®¤ä¸è¦ä¿®æ”¹ã€‚
ç»„åˆæ–¹æ³•é€šæ ·é€‚å®œäºŽæœ¬åœ°æ‰“åŒ…çš„


æ¯”å¦‚è¿™æ ·çš„ï¼Œå°±æ˜¯å•æœºåž‹+å•æ ¸å¿ƒç»„åˆæ‰“åŒ…
cat >$GITHUB_WORKSPACE/amlogic_openwrt <<-EOF
amlogic_model=s905d
amlogic_kernel=5.10.70
rootfs_size=960
EOF


æ¯”å¦‚è¿™æ ·çš„ï¼Œå°±æ˜¯åŒæœºåž‹+åŒæ ¸å¿ƒç»„åˆæ‰“åŒ…
cat >$GITHUB_WORKSPACE/amlogic_openwrt <<-EOF
amlogic_model=s905x3_s905x2
amlogic_kernel=5.10.100_5.4.170
rootfs_size=960
EOF


è¿™ä¸ªç»„åˆå°±æ˜¯å…¨æœºåž‹+è‡ªåŠ¨æ£€æµ‹æœ€æ–°åŒå†…æ ¸æ‰“åŒ…
cat >$GITHUB_WORKSPACE/amlogic_openwrt <<-EOF
amlogic_model=s905x3_s905x2_s905x_s905w_s905d_s922x_s912
amlogic_kernel=5.10.100_5.4.180 -a true
rootfs_size=960
EOF


è¯·æ³¨æ„ï¼Œä¸æ˜¯ç»„åˆè¶Šå¤šå°±è¶Šå¥½çš„ï¼Œæ¯ä¸ªå†…æ ¸å°±æ‰“åŒ…ä¸€ä¸ªå›ºä»¶è€Œå·²ï¼Œä¸æ˜¯ä¸€ä¸ªå›ºä»¶é‡Œé¢å¯ä»¥å¡žè¿›åŽ»å‡ ä¸ªå†…æ ¸çš„ï¼Œ
è¦æ ¹æ®è‡ªå·±ä¸ªäººéœ€æ±‚ç»„åˆï¼Œè¦ä¸ç„¶æ‰“åŒ…çš„å›ºä»¶å¤ªå¤šï¼ŒæœåŠ¡å™¨ç©ºé—´ä¸å¤Ÿç”¨å°±æ‰“åŒ…å¤±è´¥äº†ã€‚
```
#
#

## å®‰è£…åŠå‡çº§ OpenWrt çš„ç›¸å…³è¯´æ˜Ž

- é€‰æ‹©å’Œä½ çš„ç”µè§†ç›’å­åž‹å·å¯¹åº”çš„ OpenWrt å›ºä»¶ï¼Œä½¿ç”¨ [Rufus](https://rufus.ie/) æˆ–è€… [balenaEtcher](https://www.balena.io/etcher/) ç­‰å·¥å…·å°†å›ºä»¶å†™å…¥USBé‡Œï¼Œç„¶åŽæŠŠå†™å¥½å›ºä»¶çš„USBæ’å…¥ç”µè§†ç›’å­ã€‚

- æç¤ºï¼šå®‰è£…/å‡çº§ç­‰åŠŸèƒ½ç”± [luci-app-amlogic](https://user-images.githubusercontent.com/68696949/145738345-31dd85cf-5e43-444e-a624-f21a28be2a7c.gif) æä¾›å¯è§†åŒ–æ“ä½œæ”¯æŒã€‚

---
### å®‰è£… OpenWrt

- ä»Žæµè§ˆå™¨è®¿é—® OpenWrt çš„é»˜è®¤ IP: 192.168.1.1 â†’ `ä½¿ç”¨é»˜è®¤è´¦æˆ·ç™»å½•è¿›å…¥ OpenWrt` â†’ `ç³»ç»Ÿèœå•` â†’ `æ™¶æ™¨å®ç›’` â†’ `å®‰è£… OpenWrt` ï¼Œåœ¨æ”¯æŒçš„è®¾å¤‡ä¸‹æ‹‰åˆ—è¡¨ä¸­é€‰æ‹©ä½ çš„ç›’å­ï¼Œç‚¹å‡» `å®‰è£… OpenWrt` æŒ‰é’®è¿›è¡Œå®‰è£…ã€‚

---
### å‡çº§ OpenWrt

- ä»Žæµè§ˆå™¨è®¿é—® OpenWrt çš„ IP å¦‚: 192.168.1.1 â†’  `ä½¿ç”¨è´¦æˆ·ç™»å½•è¿›å…¥ OpenWrt` â†’ `ç³»ç»Ÿèœå•` â†’ `æ™¶æ™¨å®ç›’` â†’ `æ‰‹åŠ¨ä¸Šä¼ æ›´æ–° / åœ¨çº¿ä¸‹è½½æ›´æ–°`

- å¦‚æžœé€‰æ‹© `æ‰‹åŠ¨ä¸Šä¼ æ›´æ–°` OpenWrtå›ºä»¶ï¼Œå¯ä»¥å°†[ç¼–è¯‘](https://github.com/281677160/build-actions)å¥½ OpenWrt å›ºä»¶åŽ‹ç¼©åŒ…ï¼Œå¦‚ openwrt_s9xxx_k5.15.25_xxx.img.gz è¿›è¡Œä¸Šä¼ ï¼ˆæŽ¨èä¸Šä¼ åŽ‹ç¼©åŒ…ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è§£åŽ‹ã€‚å¦‚æžœä¸Šä¼ è§£åŽ‹ç¼©åŽçš„ xxx.img æ ¼å¼çš„æ–‡ä»¶ï¼Œå¯èƒ½ä¼šå› ä¸ºæ–‡ä»¶å¤ªå¤§è€Œä¸Šä¼ å¤±è´¥ï¼‰ï¼Œä¸Šä¼ å®ŒæˆåŽç•Œé¢å°†æ˜¾ç¤º `æ›´æ–°å›ºä»¶` çš„æ“ä½œæŒ‰é’®ï¼Œç‚¹å‡»å³å¯æ›´æ–°ã€‚

- å¦‚æžœé€‰æ‹© `æ‰‹åŠ¨ä¸Šä¼ æ›´æ–°` [OpenWrt å†…æ ¸](https://github.com/ophub/kernel/tree/main/pub/stable)ï¼Œå¯ä»¥å°† `boot-xxx.tar.gz`, `dtb-amlogic-xxx.tar.gz`, `modules-xxx.tar.gz` è¿™ 3 ä¸ªå†…æ ¸æ–‡ä»¶ä¸Šä¼ ï¼ˆå…¶ä»–å†…æ ¸æ–‡ä»¶ä¸éœ€è¦ï¼Œå¦‚æžœåŒæ—¶ä¸Šä¼ ä¹Ÿä¸å½±å“æ›´æ–°ï¼Œç³»ç»Ÿå¯ä»¥å‡†ç¡®è¯†åˆ«éœ€è¦çš„å†…æ ¸æ–‡ä»¶ï¼‰ï¼Œä¸Šä¼ å®ŒæˆåŽç•Œé¢å°†æ˜¾ç¤º `æ›´æ–°å†…æ ¸` çš„æ“ä½œæŒ‰é’®ï¼Œç‚¹å‡»å³å¯æ›´æ–°ã€‚

- å¦‚æžœé€‰æ‹© `åœ¨çº¿ä¸‹è½½æ›´æ–°` OpenWrt å›ºä»¶æˆ–å†…æ ¸ï¼Œå°†æ ¹æ®`æ’ä»¶è®¾ç½®`ä¸­çš„`å›ºä»¶ä¸‹è½½åœ°å€`å’Œ`å†…æ ¸ä¸‹è½½åœ°å€`è¿›è¡Œä¸‹è½½ï¼Œä½ å¯ä»¥è‡ªå®šä¹‰ä¿®æ”¹ä¸‹è½½æ¥æºï¼Œå…·ä½“æ“ä½œæ–¹æ³•è¯¦è§ [luci-app-amlogic](https://github.com/ophub/luci-app-amlogic) çš„ç¼–è¯‘ä¸Žä½¿ç”¨è¯´æ˜Žã€‚

---
### åœ¨ TF/SD/USB ä¸­ä½¿ç”¨ OpenWrt

- ä»Žæµè§ˆå™¨è®¿é—® OpenWrt çš„é»˜è®¤ IP: 192.168.1.1 â†’ `ä½¿ç”¨é»˜è®¤è´¦æˆ·ç™»å½•è¿›å…¥ OpenWrt` â†’ `ç³»ç»Ÿèœå•` â†’ `TTYD ç»ˆç«¯` â†’ è¾“å…¥å‘½ä»¤

```yaml
openwrt-tf
```

- æ¿€æ´»å‰©ä½™ç©ºé—´åŽï¼Œæ”¯æŒåœ¨ TF/SD/USB ä¸­å‡çº§å†…æ ¸å’Œ OpenWrt ç³»ç»Ÿã€‚

---
### ä¸º OpenWrt åˆ›å»º swap

- å¦‚æžœä½ åœ¨ä½¿ç”¨ `docker` ç­‰å†…å­˜å ç”¨è¾ƒå¤§çš„åº”ç”¨æ—¶ï¼Œè§‰å¾—å½“å‰ç›’å­çš„å†…å­˜ä¸å¤Ÿä½¿ç”¨ï¼Œå¯ä»¥åˆ›å»º `swap` è™šæ‹Ÿå†…å­˜åˆ†åŒºï¼Œå°† `/mnt/*4` ç£ç›˜ç©ºé—´çš„ä¸€å®šå®¹é‡è™šæ‹Ÿæˆå†…å­˜æ¥ä½¿ç”¨ã€‚ä¸‹é¢å‘½ä»¤è¾“å…¥å‚æ•°çš„å•ä½æ˜¯ `GB`ï¼Œé»˜è®¤ä¸º `1`ã€‚

- ä»Žæµè§ˆå™¨è®¿é—® OpenWrt çš„é»˜è®¤ IP: 192.168.1.1 â†’ `ä½¿ç”¨é»˜è®¤è´¦æˆ·ç™»å½•è¿›å…¥ OpenWrt` â†’ `ç³»ç»Ÿèœå•` â†’ `TTYD ç»ˆç«¯` â†’ è¾“å…¥å‘½ä»¤

```yaml
openwrt-swap 1
```

---
### å¤‡ä»½/è¿˜åŽŸ EMMC åŽŸç³»ç»Ÿ

- æ”¯æŒåœ¨ `TF/SD/USB` ä¸­å¯¹ç›’å­çš„ `EMMC` åˆ†åŒºè¿›è¡Œå¤‡ä»½/æ¢å¤ã€‚å»ºè®®æ‚¨åœ¨å…¨æ–°çš„ç›’å­é‡Œå®‰è£… OpenWrt ç³»ç»Ÿå‰ï¼Œå…ˆå¯¹å½“å‰ç›’å­è‡ªå¸¦çš„å®‰å“ TV ç³»ç»Ÿè¿›è¡Œå¤‡ä»½ï¼Œä»¥ä¾¿æ—¥åŽåœ¨æ¢å¤ç”µè§†ç³»ç»Ÿç­‰æƒ…å†µä¸‹ä½¿ç”¨ã€‚

- è¯·ä»Ž `TF/SD/USB` å¯åŠ¨ OpenWrt ç³»ç»Ÿï¼Œæµè§ˆå™¨è®¿é—® OpenWrt çš„é»˜è®¤ IP: 192.168.1.1 â†’ `ä½¿ç”¨é»˜è®¤è´¦æˆ·ç™»å½•è¿›å…¥ OpenWrt` â†’ `ç³»ç»Ÿèœå•` â†’ `TTYD ç»ˆç«¯` â†’ è¾“å…¥å‘½ä»¤

```yaml
openwrt-ddbr
```

- æ ¹æ®æç¤ºè¾“å…¥ `b` è¿›è¡Œç³»ç»Ÿå¤‡ä»½ï¼Œè¾“å…¥ `r` è¿›è¡Œç³»ç»Ÿæ¢å¤ã€‚

ðŸ’¡æç¤ºï¼šé¡»ä½¿ç”¨ `/mnt/*4/` ç©ºé—´è¿›è¡Œå­˜æ”¾ `BACKUP-arm-64-emmc.img.gz` å¤‡ä»½æ–‡ä»¶ï¼Œæœªåˆ›å»º `TF/SD/USB` æ‰©å±•åˆ†åŒºçš„ç”¨æˆ·ï¼Œé¡»å…ˆä½¿ç”¨ `openwrt-tf` å‘½ä»¤åˆ›å»ºæ‰©å±•åˆ†åŒºã€‚

---
### æŽ§åˆ¶ LED æ˜¾ç¤º

- ä»Žæµè§ˆå™¨è®¿é—® OpenWrt çš„é»˜è®¤ IP: 192.168.1.1 â†’ `ä½¿ç”¨é»˜è®¤è´¦æˆ·ç™»å½•è¿›å…¥ OpenWrt` â†’ `ç³»ç»Ÿèœå•` â†’ `TTYD ç»ˆç«¯` â†’ è¾“å…¥å‘½ä»¤

```yaml
openwrt-led
```

- æ ¹æ® [LED å±æ˜¾ç¤ºæŽ§åˆ¶è¯´æ˜Ž](https://github.com/ophub/amlogic-s9xxx-armbian/blob/main/build-armbian/armbian-docs/led_screen_display_control.md) è¿›è¡Œè°ƒè¯•ã€‚

---
- ## æ™¶æ™¨å®ç›’ ä½¿ç”¨æˆªå›¾

![luci-app-amlogic](https://user-images.githubusercontent.com/68696949/145738345-31dd85cf-5e43-444e-a624-f21a28be2a7c.gif)
